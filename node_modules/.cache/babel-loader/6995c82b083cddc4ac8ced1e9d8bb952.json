{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\incluit\\\\Desktop\\\\projects\\\\smartHuerta-FE\\\\egghead-code-examples\\\\add-placename-location-search-to-react-leaflet-esri-leaflet-geocoder\\\\src\\\\components\\\\Loguin\\\\LoguinUi.jsx\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport styles from \"./Loguin.module.css\";\nimport \"../../assets/tailwind.css\";\nimport logo from \"../img/Logotipo_smart.png\";\nimport LoguinForm from \"./LoguinForm\";\nimport RegisterForm from \"./RegisterForm\";\nimport { paperLogin, logoHuertaLoguin, bgColorLogo } from \"../Loguin/Styles/LoguinStyles\";\nimport { Grid, Box, Paper } from \"@material-ui/core\";\nimport { useContext } from \"react\";\nimport { HttpContext } from \"../Context/httpContext\";\nimport { UserContext } from \"../Context/useContext\";\n\nconst LoguinUi = () => {\n  const [loguinOption, setLoguinOption] = useState(\"loguin\");\n  const {\n    post\n  } = useContext(HttpContext);\n  const {\n    saveUser\n  } = useContext(UserContext);\n\n  const changueToLoguin = value => {\n    setLoguinOption(value);\n  };\n\n  const changueToRegister = value => {\n    setLoguinOption(value);\n  };\n\n  const registerUser = async body => {\n    try {\n      await post(\"/api/auth/new\", body);\n      const data = await post(\"/api/auth/\", body);\n      const userRegister = {\n        name: body.name,\n        email: body.email,\n        isNew: true\n      };\n      saveUser(userRegister);\n      return data;\n    } catch (error) {\n      console.log(error, \"eerrror\");\n      window.alert(\"Usuario no registrado Error en el sistema\");\n    }\n  };\n\n  const loginUser = async body => {\n    try {\n      const data = await post(\"/api/auth/\", body);\n      const userData = {\n        name: body.name,\n        email: body.email,\n        isNew: false\n      };\n      saveUser(userData);\n      return data;\n    } catch (error) {\n      console.log(error, \"rror\");\n      window.alert(\"Error en el sistema\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    className: `${styles.bgimage}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    elevation: 10,\n    xs: 12,\n    style: paperLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    style: bgColorLogo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"logoSamrtHuerta\",\n    style: logoHuertaLoguin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }))), loguinOption === \"loguin\" ? /*#__PURE__*/React.createElement(LoguinForm, {\n    changueToRegister: changueToRegister,\n    loginUser: loginUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(RegisterForm, {\n    changueToLoguin: changueToLoguin,\n    registerUser: registerUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport default LoguinUi;","map":{"version":3,"sources":["C:/Users/incluit/Desktop/projects/smartHuerta-FE/egghead-code-examples/add-placename-location-search-to-react-leaflet-esri-leaflet-geocoder/src/components/Loguin/LoguinUi.jsx"],"names":["React","useState","styles","logo","LoguinForm","RegisterForm","paperLogin","logoHuertaLoguin","bgColorLogo","Grid","Box","Paper","useContext","HttpContext","UserContext","LoguinUi","loguinOption","setLoguinOption","post","saveUser","changueToLoguin","value","changueToRegister","registerUser","body","data","userRegister","name","email","isNew","error","console","log","window","alert","loginUser","userData","bgimage"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport styles from \"./Loguin.module.css\";\r\nimport \"../../assets/tailwind.css\";\r\nimport logo from \"../img/Logotipo_smart.png\";\r\nimport LoguinForm from \"./LoguinForm\";\r\nimport RegisterForm from \"./RegisterForm\";\r\nimport {\r\n  paperLogin,\r\n  logoHuertaLoguin,\r\n  bgColorLogo,\r\n} from \"../Loguin/Styles/LoguinStyles\";\r\n\r\nimport { Grid, Box, Paper } from \"@material-ui/core\";\r\nimport { useContext } from \"react\";\r\nimport { HttpContext } from \"../Context/httpContext\";\r\nimport { UserContext } from \"../Context/useContext\";\r\nconst LoguinUi = () => {\r\n  const [loguinOption, setLoguinOption] = useState(\"loguin\");\r\n  const { post } = useContext(HttpContext);\r\n  const { saveUser } = useContext(UserContext);\r\n\r\n  const changueToLoguin = (value) => {\r\n    setLoguinOption(value);\r\n  };\r\n  const changueToRegister = (value) => {\r\n    setLoguinOption(value);\r\n  };\r\n\r\n  const registerUser = async (body) => {\r\n    try {\r\n      await post(\"/api/auth/new\", body);\r\n      const data = await post(\"/api/auth/\", body);\r\n\r\n      const userRegister = {\r\n        name: body.name,\r\n        email: body.email,\r\n        isNew: true,\r\n      };\r\n\r\n      saveUser(userRegister)\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error, \"eerrror\");\r\n      window.alert(\"Usuario no registrado Error en el sistema\");\r\n    }\r\n  };\r\n\r\n  const loginUser = async (body) => {\r\n    try {\r\n      const data = await post(\"/api/auth/\", body);\r\n\r\n      const userData = {\r\n        name: body.name,\r\n        email: body.email,\r\n        isNew: false,\r\n      };\r\n\r\n      saveUser(userData)\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error, \"rror\");\r\n      window.alert(\"Error en el sistema\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid container className={`${styles.bgimage}`}>\r\n        <Paper elevation={10} xs={12} style={paperLogin}>\r\n          <Box style={bgColorLogo}>\r\n            <div>\r\n              <img src={logo} alt=\"logoSamrtHuerta\" style={logoHuertaLoguin} />\r\n            </div>\r\n          </Box>\r\n          {loguinOption === \"loguin\" ? (\r\n            <LoguinForm\r\n              changueToRegister={changueToRegister}\r\n              loginUser={loginUser}\r\n            />\r\n          ) : (\r\n            <RegisterForm\r\n              changueToLoguin={changueToLoguin}\r\n              registerUser={registerUser}\r\n            />\r\n          )}\r\n        </Paper>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoguinUi;\r\n"]},"metadata":{},"sourceType":"module"}