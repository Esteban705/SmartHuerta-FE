{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\incluit\\\\Desktop\\\\projects\\\\smartHuertaFE\\\\src\\\\components\\\\map\\\\MapPage.js\";\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useContext } from \"react\";\nimport { HttpContext } from \"../Context/httpContext\";\nimport MapView from \"./MapView\";\nimport { UserContext } from \"../Context/useContext\";\nimport { getLocationByUser } from \"../../utils/getLocationByUser\";\nexport const MapPage = () => {\n  const {\n    post,\n    get\n  } = useContext(HttpContext);\n  const {\n    dataUser,\n    changeUserNew\n  } = useContext(UserContext);\n  const [dataHome, setDataHome] = useState({\n    currentLocation: {\n      lat: 0,\n      lng: 0\n    },\n    zoom: 16,\n    data: []\n  });\n  const dataOfUser = dataUser();\n  useEffect(() => {\n    if (dataHome.currentLocation.lat === 0) {\n      getLocationByUser(setDataHome, dataHome);\n    }\n  });\n  console.log(dataHome, 'datahome');\n\n  const getHome = async () => {\n    try {\n      const data = await get(\"/api/homes/\");\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const registerHome = async dataHome => {\n    try {\n      const registerData = await post(\"/api/homes/new/home\", dataHome);\n      return registerData;\n    } catch (error) {\n      return error;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(MapView, {\n    registerHome: registerHome,\n    dataHome: dataHome,\n    dataOfUser: dataOfUser,\n    setDataHome: setDataHome,\n    getHome: getHome,\n    changeUserNew: changeUserNew,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/incluit/Desktop/projects/smartHuertaFE/src/components/map/MapPage.js"],"names":["React","useEffect","useState","useContext","HttpContext","MapView","UserContext","getLocationByUser","MapPage","post","get","dataUser","changeUserNew","dataHome","setDataHome","currentLocation","lat","lng","zoom","data","dataOfUser","console","log","getHome","error","registerHome","registerData"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,SAASC,iBAAT,QAAkC,+BAAlC;AACA,OAAO,MAAMC,OAAO,GAAG,MAAM;AAC3B,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAgBP,UAAU,CAACC,WAAD,CAAhC;AACA,QAAM;AAAEO,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA8BT,UAAU,CAACG,WAAD,CAA9C;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC;AACvCa,IAAAA,eAAe,EAAE;AAAEC,MAAAA,GAAG,EAAE,CAAP;AAAUC,MAAAA,GAAG,EAAE;AAAf,KADsB;AAEvCC,IAAAA,IAAI,EAAE,EAFiC;AAGvCC,IAAAA,IAAI,EAAE;AAHiC,GAAD,CAAxC;AAMA,QAAMC,UAAU,GAAGT,QAAQ,EAA3B;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIY,QAAQ,CAACE,eAAT,CAAyBC,GAAzB,KAAiC,CAArC,EAAwC;AACtCT,MAAAA,iBAAiB,CAACO,WAAD,EAAcD,QAAd,CAAjB;AACD;AACF,GAJQ,CAAT;AAMAQ,EAAAA,OAAO,CAACC,GAAR,CAAYT,QAAZ,EAAsB,UAAtB;;AAEA,QAAMU,OAAO,GAAG,YAAY;AAC1B,QAAI;AACF,YAAMJ,IAAI,GAAG,MAAMT,GAAG,CAAC,aAAD,CAAtB;AACA,aAAOS,IAAP;AACD,KAHD,CAGE,OAAOK,KAAP,EAAc;AACdH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD;AACF,GAPD;;AASA,QAAMC,YAAY,GAAG,MAAOZ,QAAP,IAAoB;AACvC,QAAI;AACF,YAAMa,YAAY,GAAG,MAAMjB,IAAI,CAAC,qBAAD,EAAwBI,QAAxB,CAA/B;AACA,aAAOa,YAAP;AACD,KAHD,CAGE,OAAOF,KAAP,EAAc;AACd,aAAOA,KAAP;AACD;AACF,GAPD;;AASA,sBACE,oBAAC,OAAD;AACE,IAAA,YAAY,EAAEC,YADhB;AAEE,IAAA,QAAQ,EAAEZ,QAFZ;AAGE,IAAA,UAAU,EAAEO,UAHd;AAIE,IAAA,WAAW,EAAEN,WAJf;AAKE,IAAA,OAAO,EAAES,OALX;AAME,IAAA,aAAa,EAAEX,aANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAUD,CA/CM","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { HttpContext } from \"../Context/httpContext\";\r\nimport MapView from \"./MapView\";\r\nimport { UserContext } from \"../Context/useContext\";\r\nimport { getLocationByUser } from \"../../utils/getLocationByUser\";\r\nexport const MapPage = () => {\r\n  const { post, get } = useContext(HttpContext);\r\n  const { dataUser, changeUserNew } = useContext(UserContext);\r\n  const [dataHome, setDataHome] = useState({\r\n    currentLocation: { lat: 0, lng: 0 },\r\n    zoom: 16,\r\n    data: [],\r\n  });\r\n\r\n  const dataOfUser = dataUser();\r\n\r\n  useEffect(() => {\r\n    if (dataHome.currentLocation.lat === 0) {\r\n      getLocationByUser(setDataHome, dataHome);\r\n    }\r\n  });\r\n\r\n  console.log(dataHome, 'datahome')\r\n\r\n  const getHome = async () => {\r\n    try {\r\n      const data = await get(\"/api/homes/\");\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const registerHome = async (dataHome) => {\r\n    try {\r\n      const registerData = await post(\"/api/homes/new/home\", dataHome);\r\n      return registerData;\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MapView\r\n      registerHome={registerHome}\r\n      dataHome={dataHome}\r\n      dataOfUser={dataOfUser}\r\n      setDataHome={setDataHome}\r\n      getHome={getHome}\r\n      changeUserNew={changeUserNew}\r\n    />\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}